(function(t){function e(e){for(var a,o,i=e[0],l=e[1],c=e[2],u=0,d=[];u<i.length;u++)o=i[u],Object.prototype.hasOwnProperty.call(n,o)&&n[o]&&d.push(n[o][0]),n[o]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(t[a]=l[a]);p&&p(e);while(d.length)d.shift()();return s.push.apply(s,c||[]),r()}function r(){for(var t,e=0;e<s.length;e++){for(var r=s[e],a=!0,o=1;o<r.length;o++){var i=r[o];0!==n[i]&&(a=!1)}a&&(s.splice(e--,1),t=l(l.s=r[0]))}return t}var a={},o={app:0},n={app:0},s=[];function i(t){return l.p+"js/"+({missed_call:"missed_call"}[t]||t)+"."+{missed_call:"65c943e8"}[t]+".js"}function l(e){if(a[e])return a[e].exports;var r=a[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,l),r.l=!0,r.exports}l.e=function(t){var e=[],r={missed_call:1};o[t]?e.push(o[t]):0!==o[t]&&r[t]&&e.push(o[t]=new Promise((function(e,r){for(var a="css/"+({missed_call:"missed_call"}[t]||t)+"."+{missed_call:"3998ffb8"}[t]+".css",n=l.p+a,s=document.getElementsByTagName("link"),i=0;i<s.length;i++){var c=s[i],u=c.getAttribute("data-href")||c.getAttribute("href");if("stylesheet"===c.rel&&(u===a||u===n))return e()}var d=document.getElementsByTagName("style");for(i=0;i<d.length;i++){c=d[i],u=c.getAttribute("data-href");if(u===a||u===n)return e()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=e,p.onerror=function(e){var a=e&&e.target&&e.target.src||n,s=new Error("Loading CSS chunk "+t+" failed.\n("+a+")");s.code="CSS_CHUNK_LOAD_FAILED",s.request=a,delete o[t],p.parentNode.removeChild(p),r(s)},p.href=n;var h=document.getElementsByTagName("head")[0];h.appendChild(p)})).then((function(){o[t]=0})));var a=n[t];if(0!==a)if(a)e.push(a[2]);else{var s=new Promise((function(e,r){a=n[t]=[e,r]}));e.push(a[2]=s);var c,u=document.createElement("script");u.charset="utf-8",u.timeout=120,l.nc&&u.setAttribute("nonce",l.nc),u.src=i(t);var d=new Error;c=function(e){u.onerror=u.onload=null,clearTimeout(p);var r=n[t];if(0!==r){if(r){var a=e&&("load"===e.type?"missing":e.type),o=e&&e.target&&e.target.src;d.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",d.name="ChunkLoadError",d.type=a,d.request=o,r[1](d)}n[t]=void 0}};var p=setTimeout((function(){c({type:"timeout",target:u})}),12e4);u.onerror=u.onload=c,document.head.appendChild(u)}return Promise.all(e)},l.m=t,l.c=a,l.d=function(t,e,r){l.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},l.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},l.t=function(t,e){if(1&e&&(t=l(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(l.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)l.d(r,a,function(e){return t[e]}.bind(null,a));return r},l.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return l.d(e,"a",e),e},l.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},l.p="/",l.oe=function(t){throw console.error(t),t};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],u=c.push.bind(c);c.push=e,c=c.slice();for(var d=0;d<c.length;d++)e(c[d]);var p=u;s.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("56d7")},1:function(t,e){},"34bd":function(t,e,r){t.exports=r.p+"img/tring-logo.eef6ae2b.png"},"56d7":function(t,e,r){"use strict";r.r(e),r.d(e,"bus",(function(){return ut})),r.d(e,"db",(function(){return dt}));r("e260"),r("e6cf"),r("cca6"),r("a79d");var a=r("2b0e"),o=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-app",{attrs:{app:""}},[r("Navbar"),r("v-main",{staticClass:"ma-4"})],1)},n=[],s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("v-navigation-drawer",{staticClass:"white",attrs:{clipped:"",app:"",width:"280px",permanent:""},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[a("v-list",{attrs:{flat:""}},[a("v-list-item",{attrs:{"active-class":"red--text"}},[a("v-list-item-content",[a("v-list-item-title",{staticClass:"grey--text",on:{click:function(e){return t.dashboard()}}},[a("v-icon",{staticClass:"mr-3",attrs:{color:"grey"}},[t._v("mdi-radar")]),t._v(" Dashboard")],1)],1)],1),a("v-list-group",{attrs:{"no-action":""},scopedSlots:t._u([{key:"activator",fn:function(){return[a("v-list-item-content",[a("v-list-item-title",{staticClass:"grey--text"},[a("v-icon",{staticClass:"mr-3",attrs:{color:"grey"}},[t._v("mdi-phone")]),t._v(" Call Logs")],1)],1)]},proxy:!0}])},t._l(t.subMenu,(function(e){return a("v-list-item",{key:e.text,attrs:{router:"",to:e.route,link:""}},[a("v-list-item-title",{staticClass:"grey--text",domProps:{textContent:t._s(e.text)}})],1)})),1),a("v-list-item",{attrs:{"active-class":"red--text"}},[a("v-list-item-content",[a("v-list-item-title",{staticClass:"grey--text"},[a("v-icon",{staticClass:"mr-3",attrs:{color:"grey"}},[t._v("mdi-chart-bar")]),t._v(" Reports ")],1)],1)],1),a("v-list-group",{attrs:{"no-action":""},scopedSlots:t._u([{key:"activator",fn:function(){return[a("v-list-item-content",[a("v-list-item-title",{staticClass:"grey--text"},[a("v-icon",{staticClass:"mr-3",attrs:{color:"grey"}},[t._v("mdi-dots-horizontal")]),t._v(" More")],1)],1)]},proxy:!0}])},t._l(t.more,(function(e){return a("v-list-item",{key:e.text,attrs:{router:"",to:e.route,link:""}},[a("v-list-item-title",{staticClass:"grey--text",domProps:{textContent:t._s(e.text)}})],1)})),1)],1)],1),a("v-app-bar",{staticClass:"white",attrs:{app:"","clipped-left":""}},[a("v-app-bar",{attrs:{color:"white",flat:""}},[a("img",{staticClass:"mt-2 ml-2",attrs:{src:r("34bd"),height:"35"}}),a("v-spacer"),a("v-btn",{attrs:{icon:""}},[a("v-icon",{attrs:{color:"black"}},[t._v("mdi-bell-outline")])],1),a("v-avatar",{staticClass:"ml-5",attrs:{size:"40"}},[a("v-img",{attrs:{src:"/img1.png"}})],1)],1)],1),a("v-content",[a("v-row",{attrs:{align:"center"}},[a("v-col",{attrs:{cols:"12"}},[a("router-view")],1)],1)],1)],1)},i=[],l={created:function(){},data:function(){return{drawer:!1,group:null,role:"",subMenu:[{icon:"dashboard",text:"All Calls",route:"/all_calls"},{icon:"dashboard",text:"Missed Calls",route:"/missed_calls"},{icon:"dashboard",text:"Answered Calls",route:"/answered_call"}],more:[{icon:"dashboard",text:"Business Number",route:"/active_call"},{icon:"dashboard",text:"Manage Users",route:"/missed_call"},{icon:"dashboard",text:"Add-Ons",route:"/greeting"},{icon:"dashboard",text:"Billing Information",route:"/greeting"},{icon:"dashboard",text:"Account Info",route:"/greeting"},{icon:"dashboard",text:"FAQs",route:"/greeting"},{icon:"dashboard",text:"Get Support",route:"/greeting"}]}},watch:{group:function(){this.drawer=!1}},methods:{dashboard:function(){this.$router.push("/dashboard")}}},c=l,u=r("2877"),d=r("6544"),p=r.n(d),h=r("7496"),g=r("40dc"),f=r("8212"),v=r("8336"),m=r("62ad"),b=r("a75b"),_=r("132d"),y=r("adda"),w=r("8860"),x=r("56b0"),C=r("da13"),P=r("5d23"),V=r("f774"),k=r("0fd9"),O=r("2fa4"),A=Object(u["a"])(c,s,i,!1,null,null,null),N=A.exports;p()(A,{VApp:h["a"],VAppBar:g["a"],VAvatar:f["a"],VBtn:v["a"],VCol:m["a"],VContent:b["a"],VIcon:_["a"],VImg:y["a"],VList:w["a"],VListGroup:x["a"],VListItem:C["a"],VListItemContent:P["a"],VListItemTitle:P["b"],VNavigationDrawer:V["a"],VRow:k["a"],VSpacer:O["a"]});var E={name:"App",components:{Navbar:N}},T=E,S=r("f6c4"),$=Object(u["a"])(T,o,n,!1,null,null,null),I=$.exports;p()($,{VApp:h["a"],VMain:S["a"]});var j=r("f309");a["a"].use(j["a"]);var L=new j["a"]({}),D=(r("d3b7"),r("3ca3"),r("ddb0"),r("8c4f")),M=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-app",{staticClass:"grey lighten-3"},[r("div",{staticClass:"grey lighten-3"},[r("v-container",[r("v-row",{attrs:{justify:"center"}},[r("v-col",{staticClass:"mx-sm-auto my-md-16",attrs:{sm:"12",lg:"9"}},[r("v-card",[r("v-overlay",{attrs:{value:t.overlay}},[r("v-progress-circular",{attrs:{indeterminate:"",color:"red",size:"60",width:6}})],1),r("v-row",{attrs:{"no-gutters":""}},[r("v-col",{attrs:{sm:"12",md:"12",lg:"6",justify:"center"}},[r("div",{staticClass:"mt-3 ml-3"},[r("v-app-bar",{attrs:{color:"white",flat:""}},[r("v-spacer"),r("v-btn",{attrs:{icon:""}},[r("v-icon",{attrs:{color:"red text-subtitle-2"}},[t._v("mdi-chat-outline")])],1),r("label",{staticClass:"red--text text-subtitle-2"},[t._v("CHAT WITH US")])],1)],1),r("div",{staticClass:"ml-4"},[r("h4",{staticClass:"mt-6 ml-5"},[t._v("Login or Sign Up")]),r("v-container",[t.getNumber?r("div",{staticClass:"mt-1 ml-2"},[r("v-form",{on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[r("v-text-field",{attrs:{prefix:"+91",color:"grey darken-4",label:"Enter your Phone Number",type:"text",rules:t.numberRules,required:""},model:{value:t.phNo,callback:function(e){t.phNo=e},expression:"phNo"}}),r("v-btn",{staticClass:"mr-4 white--text",attrs:{width:"100%",color:"light-blue darken-1\n\t\t\t\t\t\t\t\t\t\t\t\t\t"},on:{click:function(e){return e.preventDefault(),t.sendOtp()}}},[t._v(" REQUEST OTP ")])],1)],1):t._e(),t.getOtp?r("div",{staticClass:"mt-1 ml-2"},[r("v-form",{on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[r("v-text-field",{attrs:{label:"Enter OTP",type:"text",required:""},model:{value:t.otp,callback:function(e){t.otp=e},expression:"otp"}}),r("v-btn",{staticClass:"mr-4",attrs:{color:"white lighten-3",width:"40%"},on:{click:function(e){return e.preventDefault(),t.sendOtp()}}},[t._v(" RESENT OTP")]),r("v-btn",{staticClass:"mr-4 white--text",attrs:{color:"light-blue darken-1\n\t\t\t\t\t\t\t\t\t\t\t\t\t",width:"40%"},on:{click:function(e){return e.preventDefault(),t.verifyOtp()}}},[t._v(" LOGIN ")])],1)],1):t._e()]),r("p",{staticClass:"mt-1 ml-5 font-weight-regular"},[t._v("For verification, an sms will be be sent to your mobile number. By proceeding, you agree to our "),r("a",{staticClass:"text-blue",attrs:{href:"https://www.tringpartner.com/terms",target:"_blank"}},[t._v("Terms & Conditions")]),t._v(" & "),r("a",{staticClass:"text-blue",attrs:{href:"https://www.tringpartner.com/privacy",target:"_blank"}},[t._v("Privacy Policy. ")])]),r("div",[r("p",{staticClass:"ml-5 mt-4 grey--text font-weight-medium"},[t._v("Trusted by")]),r("v-flex",{staticClass:"d-flex justify-space-around mb-5"})],1)],1)]),r("v-col",{attrs:{sm:"12",md:"12",lg:"6"}},[r("div",{staticClass:"video-wrapper mt-3 ml-10  ml-md-9 "})])],1),r("div",{attrs:{id:"recaptcha-container"}})],1)],1)],1),r("v-dialog",{attrs:{transition:"dialog-bottom-transition","max-width":"400"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("v-card",{attrs:{outlined:"",shaped:"",elevation:"8"}},[r("v-card-text",[r("div",{staticClass:"text-h6 mt-4 red--text"},[t._v("Oops something went wrong")]),r("div",{staticClass:"text-h6 mt-2 red--text"},[t._v("Try after sometime !! ")])]),r("v-card-actions",{staticClass:"justify-end"},[r("v-btn",{attrs:{text:"",color:"danger"},on:{click:function(t){e.value=!1}}},[t._v("Close")])],1)],1)]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}})],1)],1)])},R=[],U=(r("159b"),r("fb6a"),r("2b3d"),r("252b")),B={data:function(){return{appVerifier:"",otp:"",getNumber:!0,getOtp:!1,phNo:"",uid:"",currentPage:"",dialog:!1,errorMessage:"",overlay:!1,role:"",numberRules:[function(t){return/^[0-9]*$/.test(t)||"No characters Allowed"}]}},methods:{sendOtp:function(){var t=this;if(10!=this.phNo.length)alert("Invalid Phone Number Format !");else{this.getNumber=!1,this.getOtp=!0;var e="+91",r=e+this.phNo,a=this.appVerifier;U["a"].auth().signInWithPhoneNumber(r,a).then((function(t){window.confirmationResult=t})).catch((function(e){t.errorMessage=e.message,console.log(t.errorMessage)}))}},verifyOtp:function(){var t=this;if(6!=this.otp.length)alert("Invalid OTP Format !");else{this.overlay=!0;var e="",r=this.otp;window.confirmationResult.confirm(r).then((function(t){var r=t.user;e=t.user.uid,console.log("user details",r),console.log("user details",e)})).catch((function(t){console.log("error details",t)})).finally((function(){t.uid=e,console.log("ID",t.uid),console.log("phno",t.phNo);var r={url:"https://asia-south1-test-tpv2.cloudfunctions.net/tpv2/login",method:"POST",data:{uid:t.uid,phoneNumber:t.phNo}};console.log(r),t.$axios(r).then((function(e){console.log(e.data),console.log(e.data.token),localStorage.setItem("token",e.data.token),dt.collection("users").where("uid","==",t.uid).get().then((function(e){e.forEach((function(e){console.log(e.id," => ",e.data());var r=e.data();if(t.Udata=r,t.currentPage=t.Udata.currentPage,t.role=t.Udata.role,console.log(t.currentPage),console.log(t.role),t.$analytics.logEvent("Web Otp verified"),"ADMIN"==t.role||"AGENT"==t.role)t.overlay=!1,t.$router.push("/all_calls");else if("onboarding_listing"==t.currentPage)t.overlay=!1,t.$router.push("/choose_no");else if("onboarding_test_completed"==t.currentPage)t.overlay=!1,t.$router.push("/test_number");else if("onboarding_plan_details"==t.currentPage)t.overlay=!1,t.$router.push("/pricing");else if("onboarding_billing"==t.currentPage)t.overlay=!1,t.$router.push("/all_calls");else if("onboarding_success"==t.currentPage)t.overlay=!1,t.$router.push("/emailVerification");else if("onboarding_dashboard"==t.currentPage)t.$router.push("/all_calls");else{var a={url:"https://asia-south1-test-tpv2.cloudfunctions.net/tpv2/user/stage",method:"POST",data:{uid:t.uid,phoneNumber:t.phno,currentPage:"onboarding_listing"}};console.log(a),t.$axios(a).then((function(e){console.log(e),t.overlay=!1,t.$analytics.logEvent("Web onboarding_listing"),t.$router.push("/choose_no")})).catch((function(t){console.error(t)}))}}))})).catch((function(t){console.log("Error getting documents: ",t)}))})).catch((function(t){console.error(t)}))}))}},initReCaptcha:function(){var t=this;setTimeout((function(){var e=t;console.log("render on create",e),window.recaptchaVerifier=new U["a"].auth.RecaptchaVerifier("recaptcha-container",{size:"invisible",callback:function(t){console.log("reCAPTCHA",t)},"expired-callback":function(){}}),t.appVerifier=window.recaptchaVerifier}),1e3)},sendErrorLog:function(t){var e=this;this.dialog=!0;var r={url:"https://asia-south1-test-tpv2.cloudfunctions.net/tpv2/login/failure",method:"POST",data:{reason:t,login_number:this.phNo}};console.log(r).$axios(r).then((function(t){console.log(t),e.dialog=!0})).catch((function(t){console.error(t)}))}},created:function(){var t=this;this.initReCaptcha(),U["a"].auth().onAuthStateChanged((function(e){e&&(console.log("logged user details",e),t.uid=e.uid,t.phno=e.phoneNumber.slice(3),console.log("user id",t.uid),console.log("user number",t.phno),dt.collection("users").where("uid","==",t.uid).get().then((function(e){e.forEach((function(e){console.log(e.id," => ",e.data());var r=e.data();t.Udata=r,t.currentPage=t.Udata.currentPage,console.log(t.currentPage),t.role=t.Udata.role,console.log(t.currentPage),console.log(t.role),"ADMIN"==t.role||"AGENT"==t.role?t.$router.push("/all_calls"):"onboarding_listing"==t.currentPage?t.$router.push("/choose_no"):"onboarding_test_completed"==t.currentPage?t.$router.push("/test_number"):"onboarding_plan_details"==t.currentPage?t.$router.push("/pricing"):"onboarding_billing"==t.currentPage?t.$router.push("/billing"):"onboarding_success"==t.currentPage?t.$router.push("/emailVerification"):"onboarding_dashboard"==t.currentPage&&t.$router.push("/all_calls")}))})).catch((function(t){console.log("Error getting documents: ",t)})))}));var e=new URL(location.href).searchParams.get("number");this.phNo=e}},q=B,F=r("b0af"),z=r("99d9"),G=r("a523"),H=r("169a"),W=r("0e8f"),Q=r("4bd4"),J=r("a797"),K=r("490a"),X=r("8654"),Y=Object(u["a"])(q,M,R,!1,null,null,null),Z=Y.exports;p()(Y,{VApp:h["a"],VAppBar:g["a"],VBtn:v["a"],VCard:F["a"],VCardActions:z["a"],VCardText:z["b"],VCol:m["a"],VContainer:G["a"],VDialog:H["a"],VFlex:W["a"],VForm:Q["a"],VIcon:_["a"],VOverlay:J["a"],VProgressCircular:K["a"],VRow:k["a"],VSpacer:O["a"],VTextField:X["a"]});var tt=r("c733");r("e809");a["a"].use(D["a"]),console.log(tt);var et=[{path:"/",name:"login",component:Z},{path:"/answered_call",name:"answered_call",component:function(){return r.e("missed_call").then(r.bind(null,"ef77"))},meta:{requiresAuth:!0}},{path:"/missed_calls",name:"missed_calls",component:function(){return r.e("missed_call").then(r.bind(null,"b299"))},meta:{requiresAuth:!0}},{path:"/all_calls",name:"all_calls",component:function(){return r.e("missed_call").then(r.bind(null,"fffe"))},meta:{requiresAuth:!0}},{path:"/dashboard",name:"dashboard",component:function(){return r.e("missed_call").then(r.bind(null,"7277"))},meta:{requiresAuth:!0}}],rt=new D["a"]({mode:"history",base:"/",routes:et});rt.beforeEach((function(t,e,r){var a=t.matched.some((function(t){return t.meta.requiresAuth}));console.log("data",a);var o=tt["default"].auth().currentUser;console.log(!o),a&&!o?r("/"):(console.log("else part"),r())}));var at=rt,ot=(r("5a92"),r("bc3a")),nt=r.n(ot),st=r("2106"),it=r.n(st),lt=r("049c"),ct=r.n(lt);a["a"].prototype.$http=ct.a,a["a"].config.productionTip=!1,a["a"].use(it.a,nt.a),a["a"].use(ct.a);var ut=new a["a"];tt["default"].initializeApp({apiKey:"AIzaSyBXibeZC-vEjCOetmvBhwFS3mYz3VcyzRU",authDomain:"test-tpv2.firebaseapp.com",databaseURL:"https://test-tpv2-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"test-tpv2",storageBucket:"test-tpv2.appspot.com",messagingSenderId:"915926362222",appId:"1:915926362222:web:b3f914ef56f454161c5e7f",measurementId:"G-7429HVQX2D"});var dt=tt["default"].firestore();new a["a"]({router:at,vuetify:L,render:function(t){return t(I)}}).$mount("#app")}});
//# sourceMappingURL=app.a5fb520a.js.map