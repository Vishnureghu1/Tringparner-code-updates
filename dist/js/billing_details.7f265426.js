(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["billing_details"],{"25bb":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("nav",[a("v-card",{staticClass:"mx-auto overflow-hidden",attrs:{width:"800",height:"800"}},[a("v-app-bar",{attrs:{color:"light blue",dark:"",prominent:"",height:"75"}},[a("v-app-bar-nav-icon",{staticClass:"mt-2 hidden-md-and-up",on:{click:function(t){t.stopPropagation(),e.drawer=!e.drawer}}}),a("v-toolbar-title",{staticClass:"mt-3 ml-2"},[e._v("Tring Partner")]),a("v-spacer"),a("v-btn",{attrs:{icon:""}},[a("v-icon",{staticClass:"mt-3"},[e._v("mdi-chat-outline")])],1),a("label",{staticClass:"white--text mt-3"},[e._v("support")])],1),a("v-navigation-drawer",{attrs:{absolute:"",left:"",permanent:e.$vuetify.breakpoint.mdAndUp},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[a("v-list",{attrs:{nav:"",dense:""}},[a("v-list-item-group",{attrs:{"active-class":"deep-purple--text text--accent-4"},model:{value:e.group,callback:function(t){e.group=t},expression:"group"}},e._l(e.links,(function(t){return a("v-list-item",{key:t.text,attrs:{router:"",to:t.route}},[a("v-list-item-title",[e._v(" "+e._s(t.text))])],1)})),1)],1)],1),a("router-view")],1)],1)},i=[],r=(a("fb6a"),a("159b"),a("2591")),s=a("56d7"),o={created:function(){var e=this;r["a"].auth().onAuthStateChanged((function(t){t&&(console.log("logged user details",t),e.uid=t.uid,e.phno=t.phoneNumber.slice(3),console.log("page pricing il user id",e.uid),console.log("page pricing il user number",e.phno),s["db"].collection("users").where("uid","==",e.uid).get().then((function(e){e.forEach((function(e){console.log(e.id," => ",e.data())}))})).catch((function(e){console.log("Error getting documents: ",e)})))}))},data:function(){return{drawer:!1,group:null,links:[{icon:"dashboard",text:"Call Logs",route:"/call_logs"},{icon:"folder",text:"Analytics",route:"/analytics"},{icon:"person",text:"Manage User",route:"/manageUser"},{icon:"dashboard",text:"Greeting Message",route:"/greeting"},{icon:"dashboard",text:"Whatsapp",route:"/whatsapp"},{icon:"dashboard",text:"Billing",route:"/billing_details"},{icon:"dashboard",text:"Export",route:"/export"}]}},watch:{group:function(){this.drawer=!1}}},l=o,c=a("2877"),d=a("6544"),u=a.n(d),m=a("40dc"),h=a("5bc1"),p=a("8336"),v=a("b0af"),f=a("132d"),g=a("8860"),b=a("da13"),y=a("1baa"),x=a("5d23"),_=a("f774"),w=a("2fa4"),C=a("2a7f"),D=Object(c["a"])(l,n,i,!1,null,null,null);t["default"]=D.exports;u()(D,{VAppBar:m["a"],VAppBarNavIcon:h["a"],VBtn:p["a"],VCard:v["a"],VIcon:f["a"],VList:g["a"],VListItem:b["a"],VListItemGroup:y["a"],VListItemTitle:x["b"],VNavigationDrawer:_["a"],VSpacer:w["a"],VToolbarTitle:C["a"]})},"2a7f":function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a("71d9"),i=a("80d2");const r=Object(i["h"])("v-toolbar__title"),s=Object(i["h"])("v-toolbar__items");n["a"]},a4b7:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",{staticClass:"mx-auto overflow-hidden",attrs:{height:"800",width:"850"}},[a("v-app-bar",{attrs:{color:"deep-purple",dark:"",clipped:"",width:"850","align-center":""}},[a("v-app-bar-nav-icon",{on:{click:function(t){e.drawer=!0}}}),a("v-toolbar-title",[e._v("Title")])],1),a("v-navigation-drawer",{attrs:{absolute:"",permanent:"","clipped-left":""},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[a("v-list",{attrs:{nav:"",dense:""}},[a("v-list-item-group",{attrs:{"active-class":"deep-purple--text text--accent-4"},model:{value:e.group,callback:function(t){e.group=t},expression:"group"}},[a("v-list-item",{on:{click:function(t){return e.calllogs()}}},[a("v-list-item-icon",[a("v-icon",[e._v("mdi-home")])],1),a("v-list-item-title",[e._v("Home")])],1),a("v-list-item",[a("v-list-item-icon",[a("v-icon",[e._v("mdi-account")])],1),a("v-list-item-title",[e._v("Account")])],1)],1)],1)],1)],1)},i=[],r={data:function(){return{drawer:!1,group:null}},methods:{calllogs:function(){}}},s=r,o=a("2877"),l=a("6544"),c=a.n(l),d=a("40dc"),u=a("5bc1"),m=a("b0af"),h=a("132d"),p=a("8860"),v=a("da13"),f=a("1baa"),g=a("34c3"),b=a("5d23"),y=a("f774"),x=a("2a7f"),_=Object(o["a"])(s,n,i,!1,null,null,null);t["default"]=_.exports;c()(_,{VAppBar:d["a"],VAppBarNavIcon:u["a"],VCard:m["a"],VIcon:h["a"],VList:p["a"],VListItem:v["a"],VListItemGroup:f["a"],VListItemIcon:g["a"],VListItemTitle:b["b"],VNavigationDrawer:y["a"],VToolbarTitle:x["a"]})},f2dc:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-container",{attrs:{fluid:""}},[a("v-layout",{attrs:{"align-center":"","justify-center":""}},[a("v-flex",{attrs:{xs12:"",sm8:"",md8:""}},[a("v-card",{staticClass:"mx-auto"},[a("v-row",{attrs:{"no-gutters":""}},[a("v-col",{attrs:{cols:"12"}},[a("div",[a("div",{staticClass:"ml-4 mr-4"},[a("h3",{staticClass:"mt-6 ml-5 text-center"},[e._v("Billing Overview")])])]),a("v-card",{staticClass:"ml-4 mr-4 mt-4"},[a("div",{staticClass:"ml-4 mr-4 mt-4 pt-4"},[a("v-card-text",[a("h3",{staticClass:"mb-4"},[e._v("Credit Information ")]),a("h4",[e._v(" Last recharge")]),a("h4",{staticClass:"font-weight-regular"},[e._v(" "+e._s(e.lastRecharge))]),a("h4",{staticClass:"font-weight-bold blue--text mt-4"},[e._v(" Next Bill Cycle ")]),a("h4",{staticClass:"font-weight-bold green--text mt-1"},[e._v(" "+e._s(e.lastDay)+" ")]),a("h4",{staticClass:"font-weight-bold blue--text mt-4"},[e._v(" Recharge on or before ")]),a("h4",{staticClass:"font-weight-bold green--text mt-1"},[e._v(" "+e._s(e.renewalDay)+" ")]),a("v-btn",{staticClass:"mr-4 mt-6 white--text text-center",attrs:{rounded:"",color:"red"},on:{click:function(t){return t.preventDefault(),e.recharge()}}},[e._v(" + RECHARGE ")])],1)],1)]),a("v-card",{staticClass:"ml-4 mr-4 mt-4"},[a("div",{staticClass:"ml-4 mr-4 mt-4 pt-4"},[a("v-card-text",[a("h3",{staticClass:"mb-4"},[e._v("Billing Address ")]),a("v-form",{ref:"form",staticClass:"mt-3 ml-8 mr-4",attrs:{"lazy-validation":""},on:{submit:function(e){e.preventDefault()}},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-checkbox",{attrs:{label:"Are you registered for GST"},model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}}),a("v-row",[a("v-col",[e.selected?a("v-text-field",{attrs:{label:"GST Number",rules:e.gstRules},on:{keyup:e.uppercase},model:{value:e.gst,callback:function(t){e.gst=t},expression:"gst"}}):e._e(),e.selected?a("v-text-field",{attrs:{label:"Business Name",rules:e.businessNameRules,required:""},model:{value:e.businessName,callback:function(t){e.businessName=t},expression:"businessName"}}):e._e(),e.selected?a("v-text-field",{attrs:{rules:e.emailRules,label:"Business E-mail",required:""},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}):e._e(),a("v-text-field",{attrs:{label:"Name",rules:e.nameRules,required:""},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),a("v-text-field",{attrs:{label:"Your Number",prefix:"+91",readonly:""},model:{value:e.phno,callback:function(t){e.phno=t},expression:"phno"}}),e.selected?e._e():a("v-text-field",{attrs:{rules:e.emailRules,label:"Your E-mail",required:""},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),a("v-text-field",{attrs:{label:"Address",rules:e.addressRules,required:""},model:{value:e.address,callback:function(t){e.address=t},expression:"address"}}),a("v-text-field",{attrs:{label:"Pincode",rules:e.pincodeRules,required:""},on:{change:function(t){return e.searchPincode()}},model:{value:e.pincode,callback:function(t){e.pincode=t},expression:"pincode"}}),a("v-text-field",{attrs:{label:"City",required:""},model:{value:e.city,callback:function(t){e.city=t},expression:"city"}}),a("v-text-field",{attrs:{label:"State",required:""},model:{value:e.state,callback:function(t){e.state=t},expression:"state"}}),a("v-btn",{staticClass:"mr-4 mb-6 mt-6 white--text text-center",attrs:{type:"submit",width:"40%",color:"light-blue"},on:{click:e.validate}},[e._v(" Update ")])],1)],1)],1)],1)],1)])],1)],1)],1)],1)],1)],1)],1)},i=[],r=(a("fb6a"),a("b0c0"),a("159b"),a("4de4"),a("2591")),s=a("56d7"),o=a("c1df"),l=a.n(o),c=a("fb5f"),d={created:function(){var e=this;r["a"].auth().onAuthStateChanged((function(t){t&&(console.log("logged user details",t),e.uid=t.uid,e.phno=t.phoneNumber.slice(3),console.log("billing il user id",e.uid),console.log("billing il user number",e.name),s["db"].collection("users").where("uid","==",e.uid).get().then((function(t){t.forEach((function(t){console.log(t.id," => ",t.data());var a=t.data();e.Udata=a,e.name=e.Udata.FirstName,e.businessName=e.Udata.CompanyName,e.number=e.Udata.phoneNumber,e.email=e.Udata.Email,e.city=e.Udata.City,e.state=e.Udata.State,e.pincode=e.Udata.PinCode,e.address=e.Udata.Address,e.gst=e.Udata.Gstin,e.lastRecharge=e.Udata.LastRecharge,e.renewalDay=e.Udata.RenewalDay,e.lastDay=e.Udata.LastDay;var n=e.Udata.GSTAvailable;"N"==n&&(e.selected=!1),console.log(l()(e.lastRecharge).format("dddd MMMM Do YYYY")),e.lastRecharge=l()(e.lastRecharge).format("dddd MMMM Do YYYY"),e.renewalDay=l()(e.renewalDay).format("dddd MMMM Do YYYY"),e.lastDay=l()(e.lastDay).format("dddd MMMM Do YYYY"),console.log(e.lastDay);var i=1621326268528,r=new Date(i);console.log("hello",r.getTime()),console.log("hii",r),console.log(l()(r).format("MM/DD/YYYY hh:mm"))}))})).catch((function(e){console.log("Error getting documents: ",e)})))}))},data:function(){return{selected:!0,valid:!0,gst:"",phno:"",name:"",email:"",businessName:"",city:"",address:"",pincode:"",state:"",rzp:"",detail:{},Udata:[],realdata:[],razorpay_order_id:"",razorpay_payment_id:"",razorpay_signature:"",lastRecharge:"",lastDay:"",renewalDay:"",pincodeDb:c,emailRules:[function(e){return!!e||"E-mail is required"},function(e){return/^[a-zA-Z0-9+_.-]+@[a-zA-Z0-9.-]+$/.test(e)||"E-mail must be valid"}],nameRules:[function(e){return!!e||"Your Name is required"},function(e){return e&&e.length<50||"Too many characters.Please try again !!"},function(e){return/^[a-zA-Z][a-zA-Z ]+$/.test(e)||"Name should not contain symbols or digits. Please try again."}],gstRules:[function(e){return!!e||"GST Number is required"},function(e){return e&&15==e.length||"GST must contain 15 characters"},function(e){return/^[0-9]{2}[a-zA-Z]{5}[0-9]{4}[a-zA-Z]{1}[1-9a-zA-Z]{1}[a-zA-Z][0-9a-zA-Z]{1}$/.test(e)||"GST must be valid"}],businessNameRules:[function(e){return!!e||"Your Business name is required"},function(e){return e&&e.length<100||"Too many characters.Please try again !!"},function(e){return/[a-zA-Z][a-zA-Z ]*/.test(e)||"Business Name should not contain symbols or digits. Please try again."}],addressRules:[function(e){return!!e||"Your Address is required"},function(e){return e&&e.length<100||"Too many characters.Please try again !!"}],pincodeRules:[function(e){return!!e||"Your Pincode is required"},function(e){return e&&6==e.length||"Pincode must contain 6 digits. Invalid Pincode !!"},function(e){return/^[0-9]*$/.test(e)||"Pincode must contain 6 digits"}]}},methods:{searchPincode:function(){var e=this;console.log(this.pincodeDb),console.log(this.pincode);var t=this.pincodeDb;console.log("before checking",this.pincodeInvalid);t.filter((function(t){t.id==e.pincode?(e.city=t.name.city,e.state=t.name.state,console.log(t.name.city),console.log(t.name.state),e.pincodeInvalid=!1,console.log("false",e.pincodeInvalid)):e.pincodeInvalid=!0}))},uppercase:function(){this.gst=this.gst.toUpperCase()},validate:function(){this.$refs.form.validate();var e=this.$refs.form.validate();e&&this.updateData()},updateData:function(){var e=this,t={url:"",method:"POST",data:{uid:this.uid,phoneNumber:this.phno,virtual_number:"9731176095",FirstName:this.name,Email:this.email,Address:this.address,City:this.city,State:this.state,Gstin:this.gst,CompanyName:this.businessName,Pincode:this.pincode}};console.log(t),this.$axios(t).then((function(t){console.log("order_id",t),console.log(t.data.OrderId),e.order_id=t.data.OrderId})).catch((function(e){console.error(e)}))},recharge:function(){var e=this,t={url:"https://asia-south1-tringpartner-v2.cloudfunctions.net/tpv2/user/owner",method:"POST",data:{uid:this.uid,phoneNumber:this.phno,virtual_number:"9731176095",FirstName:this.name,Email:this.email,Address:this.address,City:this.city,State:this.state,Gstin:this.gst,CompanyName:this.businessName,Pincode:this.pincode}};console.log(t),this.$axios(t).then((function(t){console.log("order_id",t),console.log(t.data.OrderId),e.order_id=t.data.OrderId;var a={key:"rzp_test_ThdwdEPh3QCHbo",order_id:e.order_id,name:e.name,currency:"INR",description:"Purchase Description",handler:function(t){console.log(t);var a={url:"https://asia-south1-tringpartner-v2.cloudfunctions.net/tpv2/user/paymentVerification",method:"POST",data:{uid:e.uid,phoneNumber:e.phno,State:e.state,Gstin:e.gst,razorpay_order_id:t.razorpay_order_id,razorpay_payment_id:t.razorpay_payment_id,razorpay_signature:t.razorpay_signature}};console.log(a),e.$axios(a).then((function(t){console.log("confirm",t),s["db"].collection("users").where("uid","==",e.uid).get().then((function(t){t.forEach((function(t){console.log(t.id," => ",t.data());t.data();e.lastRecharge=e.Udata.LastRecharge,e.renewalDay=e.Udata.RenewalDay,e.lastDay=e.Udata.LastDay,console.log(l()(e.lastRecharge).format("dddd MMMM Do YYYY")),e.lastRecharge=l()(e.lastRecharge).format("dddd MMMM Do YYYY"),e.renewalDay=l()(e.renewalDay).format("dddd MMMM Do YYYY"),e.lastDay=l()(e.lastDay).format("dddd MMMM Do YYYY"),console.log(e.lastDay)}))})).catch((function(e){console.log("Error getting documents: ",e)}))})).catch((function(e){console.error(e)}))},prefill:{name:e.name,email:e.email,contact:e.phno},notes:{address:e.address},theme:{color:"#3399cc"}};console.log(a);var n=new Razorpay(a);n.open()})).catch((function(e){console.error(e)}))}}},u=d,m=a("2877"),h=a("6544"),p=a.n(h),v=a("8336"),f=a("b0af"),g=a("99d9"),b=a("ac7c"),y=a("62ad"),x=a("a523"),_=a("0e8f"),w=a("4bd4"),C=a("a722"),D=a("0fd9"),Y=a("8654"),M=Object(m["a"])(u,n,i,!1,null,null,null);t["default"]=M.exports;p()(M,{VBtn:v["a"],VCard:f["a"],VCardText:g["b"],VCheckbox:b["a"],VCol:y["a"],VContainer:x["a"],VFlex:_["a"],VForm:w["a"],VLayout:C["a"],VRow:D["a"],VTextField:Y["a"]})}}]);
//# sourceMappingURL=billing_details.7f265426.js.map